<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Writing Consonants: </title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Myanmar:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans Myanmar', sans-serif;
            text-align: center;
            margin: 20px;
        }

        canvas {
            border: 2px solid black;
            display: block;
            margin: 20px auto;
            cursor: crosshair;
        }
        #result {
            font-weight: bold;
            margin-top: 10px;
        }
        button {
            margin: 5px;
            padding: 10px 15px;
            font-size: 16px;
        }
      #btn1:hover,#btn1:active{
      background: yellow;
      color: black;
      &:after{
        border-left: 20px solid yellow;
      }
      }
      
      #btn22:hover,#btn22:active{
      background: yellow;
      color: black;
      &:after{
        border-left: 20px solid yellow;
      }
      }
      
      .btn22 a ,.btn1 a{
        text-decoration: none;
      }
      .btn-btn{
            font-size: 20px;
        cursor: pointer;
        display: inline-block;
        height: 60px;
        position: relative;
        line-height: 2em;
        padding-left: 1em;
        padding-right: 2em;
        background: white;
        color: black;
        &:after{
          border-left: 20px solid white;
        }
          }
      
          .btn-btn a button{
            padding: 10px 50px 10px 50px;
            font-size: 10px;
        cursor: pointer;
        background: white;
        color: black;
          }
      
         
      </style>
</head>
<body>
  <div class="header">
    <h1><a href="1_RW.html"><img src="assets/edu3.png" style="width: 50px; height: 50px;"></a>&nbsp; အခြေခံ မြန်မာစာ အခန်း(၁၁)</h1>
  </div>
  <br>
  <h3 style="margin-left: 0px;">ဖတ်ပါ။ ရေးပါ။</h3>
<br>
  
  <div class="container-fluid">
    <div class="row">
      <div class="col-md-12 col-sm-12">
        <video width="100%" height="470" controls>
          <source src="mp4/C_11/ch11L2vd.mp4" type="video/mp4">
        </video>
      </div>
      <div class="col-md-12 col-sm-12">
      
        <canvas id="canvas" width="1300" height="400"></canvas>
       
        <button id="clear">ရှင်းပါ</button>
        
        <button id="checkMethod">စစ်ဆေးမည်</button>
         <p id="result"></p>  <br>
      </div>
    </div>
  </div>
  <br>
  <div class="container">
    <div class="row"> <div class="col-sm" style="text-align:left;">
          <a href="21_1_1.html"> <button id="btn22" class="btn-btn" >◁◀◁◀◁◀ နောက်သို့</button></a>
        </div>
        <div class="col-6">
          
        </div>
        <div class="col-sm" style="text-align: right;">
          <a href="21_1_3.html"><button id="btn1" class="btn-btn" >ရှေ့သို့ ▶▷▶▷▶▷</button></a>
        </div>
      </div>
  </div>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const canvas = document.getElementById("canvas");
            const ctx = canvas.getContext("2d");
            const clearButton = document.getElementById("clear");
            const saveMethodButton = document.getElementById("saveMethod");
            const checkMethodButton = document.getElementById("checkMethod");
            const result = document.getElementById("result");

            let drawing = false;
            let strokes = [];
            let currentStroke = [[
  [
    {
      "x": 125,
      "y": 181
    },
    {
      "x": 125,
      "y": 179
    },
    {
      "x": 125,
      "y": 179
    },
    {
      "x": 123,
      "y": 179
    },
    {
      "x": 122,
      "y": 179
    },
    {
      "x": 120,
      "y": 179
    },
    {
      "x": 119,
      "y": 179
    },
    {
      "x": 119,
      "y": 178
    },
    {
      "x": 117,
      "y": 178
    },
    {
      "x": 116,
      "y": 176
    },
    {
      "x": 114,
      "y": 176
    },
    {
      "x": 113,
      "y": 176
    },
    {
      "x": 111,
      "y": 176
    },
    {
      "x": 110,
      "y": 176
    },
    {
      "x": 108,
      "y": 176
    },
    {
      "x": 107,
      "y": 176
    },
    {
      "x": 105,
      "y": 176
    },
    {
      "x": 105,
      "y": 178
    },
    {
      "x": 104,
      "y": 178
    },
    {
      "x": 104,
      "y": 179
    },
    {
      "x": 104,
      "y": 181
    },
    {
      "x": 104,
      "y": 182
    },
    {
      "x": 102,
      "y": 182
    },
    {
      "x": 102,
      "y": 184
    },
    {
      "x": 101,
      "y": 187
    },
    {
      "x": 101,
      "y": 188
    },
    {
      "x": 101,
      "y": 190
    },
    {
      "x": 101,
      "y": 191
    },
    {
      "x": 101,
      "y": 193
    },
    {
      "x": 102,
      "y": 193
    },
    {
      "x": 104,
      "y": 194
    },
    {
      "x": 105,
      "y": 194
    },
    {
      "x": 107,
      "y": 194
    },
    {
      "x": 108,
      "y": 196
    },
    {
      "x": 110,
      "y": 196
    },
    {
      "x": 111,
      "y": 196
    },
    {
      "x": 114,
      "y": 196
    },
    {
      "x": 116,
      "y": 196
    },
    {
      "x": 117,
      "y": 196
    },
    {
      "x": 119,
      "y": 196
    },
    {
      "x": 120,
      "y": 196
    },
    {
      "x": 122,
      "y": 196
    },
    {
      "x": 123,
      "y": 197
    },
    {
      "x": 125,
      "y": 199
    },
    {
      "x": 126,
      "y": 199
    },
    {
      "x": 128,
      "y": 200
    },
    {
      "x": 129,
      "y": 200
    },
    {
      "x": 129,
      "y": 202
    },
    {
      "x": 131,
      "y": 202
    },
    {
      "x": 132,
      "y": 203
    },
    {
      "x": 132,
      "y": 205
    },
    {
      "x": 132,
      "y": 206
    },
    {
      "x": 134,
      "y": 206
    },
    {
      "x": 134,
      "y": 208
    },
    {
      "x": 134,
      "y": 209
    },
    {
      "x": 134,
      "y": 211
    },
    {
      "x": 134,
      "y": 212
    },
    {
      "x": 134,
      "y": 214
    },
    {
      "x": 134,
      "y": 215
    },
    {
      "x": 134,
      "y": 217
    },
    {
      "x": 134,
      "y": 218
    },
    {
      "x": 134,
      "y": 220
    },
    {
      "x": 134,
      "y": 221
    },
    {
      "x": 134,
      "y": 223
    },
    {
      "x": 132,
      "y": 223
    },
    {
      "x": 131,
      "y": 224
    },
    {
      "x": 129,
      "y": 226
    },
    {
      "x": 128,
      "y": 226
    },
    {
      "x": 126,
      "y": 226
    },
    {
      "x": 125,
      "y": 226
    },
    {
      "x": 123,
      "y": 227
    },
    {
      "x": 122,
      "y": 229
    },
    {
      "x": 120,
      "y": 229
    },
    {
      "x": 119,
      "y": 229
    },
    {
      "x": 117,
      "y": 229
    },
    {
      "x": 116,
      "y": 229
    },
    {
      "x": 114,
      "y": 229
    },
    {
      "x": 113,
      "y": 229
    },
    {
      "x": 111,
      "y": 229
    },
    {
      "x": 110,
      "y": 229
    },
    {
      "x": 108,
      "y": 229
    },
    {
      "x": 107,
      "y": 229
    },
    {
      "x": 105,
      "y": 229
    },
    {
      "x": 104,
      "y": 229
    },
    {
      "x": 101,
      "y": 229
    },
    {
      "x": 99,
      "y": 229
    },
    {
      "x": 98,
      "y": 229
    },
    {
      "x": 98,
      "y": 227
    },
    {
      "x": 96,
      "y": 227
    },
    {
      "x": 95,
      "y": 226
    },
    {
      "x": 93,
      "y": 226
    },
    {
      "x": 93,
      "y": 224
    },
    {
      "x": 93,
      "y": 223
    },
    {
      "x": 93,
      "y": 221
    },
    {
      "x": 93,
      "y": 220
    },
    {
      "x": 93,
      "y": 218
    },
    {
      "x": 93,
      "y": 217
    },
    {
      "x": 93,
      "y": 215
    },
    {
      "x": 93,
      "y": 214
    },
    {
      "x": 93,
      "y": 212
    },
    {
      "x": 93,
      "y": 211
    },
    {
      "x": 93,
      "y": 209
    },
    {
      "x": 93,
      "y": 208
    },
    {
      "x": 93,
      "y": 206
    },
    {
      "x": 95,
      "y": 206
    },
    {
      "x": 96,
      "y": 206
    },
    {
      "x": 96,
      "y": 205
    },
    {
      "x": 98,
      "y": 205
    },
    {
      "x": 99,
      "y": 205
    },
    {
      "x": 101,
      "y": 205
    },
    {
      "x": 102,
      "y": 205
    },
    {
      "x": 104,
      "y": 205
    },
    {
      "x": 107,
      "y": 205
    },
    {
      "x": 108,
      "y": 205
    },
    {
      "x": 110,
      "y": 205
    },
    {
      "x": 111,
      "y": 205
    },
    {
      "x": 113,
      "y": 205
    },
    {
      "x": 113,
      "y": 206
    },
    {
      "x": 114,
      "y": 206
    },
    {
      "x": 114,
      "y": 208
    },
    {
      "x": 116,
      "y": 209
    },
    {
      "x": 116,
      "y": 211
    },
    {
      "x": 116,
      "y": 212
    },
    {
      "x": 116,
      "y": 214
    },
    {
      "x": 116,
      "y": 217
    },
    {
      "x": 116,
      "y": 218
    },
    {
      "x": 117,
      "y": 221
    },
    {
      "x": 117,
      "y": 224
    },
    {
      "x": 117,
      "y": 227
    },
    {
      "x": 117,
      "y": 232
    },
    {
      "x": 116,
      "y": 233
    },
    {
      "x": 116,
      "y": 235
    },
    {
      "x": 116,
      "y": 239
    },
    {
      "x": 116,
      "y": 241
    },
    {
      "x": 116,
      "y": 242
    },
    {
      "x": 114,
      "y": 247
    },
    {
      "x": 113,
      "y": 248
    },
    {
      "x": 113,
      "y": 251
    },
    {
      "x": 113,
      "y": 253
    },
    {
      "x": 111,
      "y": 254
    },
    {
      "x": 111,
      "y": 256
    },
    {
      "x": 111,
      "y": 257
    },
    {
      "x": 111,
      "y": 259
    },
    {
      "x": 110,
      "y": 260
    },
    {
      "x": 110,
      "y": 263
    },
    {
      "x": 110,
      "y": 265
    },
    {
      "x": 108,
      "y": 266
    }
  ],
  [
    {
      "x": 119,
      "y": 164
    },
    {
      "x": 117,
      "y": 164
    },
    {
      "x": 116,
      "y": 164
    },
    {
      "x": 114,
      "y": 164
    },
    {
      "x": 113,
      "y": 164
    },
    {
      "x": 111,
      "y": 164
    },
    {
      "x": 110,
      "y": 164
    },
    {
      "x": 111,
      "y": 164
    },
    {
      "x": 113,
      "y": 164
    },
    {
      "x": 114,
      "y": 164
    },
    {
      "x": 114,
      "y": 163
    },
    {
      "x": 114,
      "y": 161
    },
    {
      "x": 114,
      "y": 160
    },
    {
      "x": 114,
      "y": 158
    },
    {
      "x": 114,
      "y": 157
    }
  ],
  [
    {
      "x": 279,
      "y": 179
    },
    {
      "x": 278,
      "y": 179
    },
    {
      "x": 278,
      "y": 178
    },
    {
      "x": 276,
      "y": 178
    },
    {
      "x": 276,
      "y": 176
    },
    {
      "x": 275,
      "y": 176
    },
    {
      "x": 273,
      "y": 176
    },
    {
      "x": 273,
      "y": 175
    },
    {
      "x": 272,
      "y": 175
    },
    {
      "x": 270,
      "y": 175
    },
    {
      "x": 269,
      "y": 175
    },
    {
      "x": 267,
      "y": 175
    },
    {
      "x": 266,
      "y": 175
    },
    {
      "x": 264,
      "y": 175
    },
    {
      "x": 263,
      "y": 175
    },
    {
      "x": 261,
      "y": 175
    },
    {
      "x": 260,
      "y": 175
    },
    {
      "x": 258,
      "y": 175
    },
    {
      "x": 257,
      "y": 175
    },
    {
      "x": 255,
      "y": 175
    },
    {
      "x": 254,
      "y": 175
    },
    {
      "x": 252,
      "y": 175
    },
    {
      "x": 251,
      "y": 175
    },
    {
      "x": 251,
      "y": 176
    },
    {
      "x": 251,
      "y": 178
    },
    {
      "x": 249,
      "y": 178
    },
    {
      "x": 249,
      "y": 179
    },
    {
      "x": 248,
      "y": 179
    },
    {
      "x": 248,
      "y": 181
    },
    {
      "x": 248,
      "y": 182
    },
    {
      "x": 248,
      "y": 184
    },
    {
      "x": 248,
      "y": 185
    },
    {
      "x": 248,
      "y": 187
    },
    {
      "x": 249,
      "y": 187
    },
    {
      "x": 251,
      "y": 187
    },
    {
      "x": 252,
      "y": 187
    },
    {
      "x": 254,
      "y": 187
    },
    {
      "x": 255,
      "y": 188
    },
    {
      "x": 257,
      "y": 188
    },
    {
      "x": 258,
      "y": 188
    },
    {
      "x": 260,
      "y": 188
    },
    {
      "x": 261,
      "y": 188
    },
    {
      "x": 263,
      "y": 188
    },
    {
      "x": 264,
      "y": 188
    },
    {
      "x": 264,
      "y": 190
    },
    {
      "x": 266,
      "y": 190
    },
    {
      "x": 267,
      "y": 190
    },
    {
      "x": 269,
      "y": 190
    },
    {
      "x": 270,
      "y": 190
    },
    {
      "x": 270,
      "y": 191
    },
    {
      "x": 272,
      "y": 191
    },
    {
      "x": 273,
      "y": 191
    },
    {
      "x": 273,
      "y": 194
    },
    {
      "x": 275,
      "y": 196
    },
    {
      "x": 276,
      "y": 196
    },
    {
      "x": 276,
      "y": 197
    },
    {
      "x": 278,
      "y": 197
    },
    {
      "x": 279,
      "y": 197
    },
    {
      "x": 279,
      "y": 199
    },
    {
      "x": 281,
      "y": 199
    },
    {
      "x": 281,
      "y": 200
    },
    {
      "x": 282,
      "y": 202
    },
    {
      "x": 282,
      "y": 203
    },
    {
      "x": 284,
      "y": 203
    },
    {
      "x": 285,
      "y": 203
    },
    {
      "x": 285,
      "y": 205
    },
    {
      "x": 287,
      "y": 205
    },
    {
      "x": 287,
      "y": 208
    },
    {
      "x": 287,
      "y": 209
    },
    {
      "x": 288,
      "y": 211
    },
    {
      "x": 288,
      "y": 212
    },
    {
      "x": 288,
      "y": 214
    },
    {
      "x": 288,
      "y": 215
    },
    {
      "x": 288,
      "y": 217
    },
    {
      "x": 288,
      "y": 218
    },
    {
      "x": 288,
      "y": 220
    },
    {
      "x": 287,
      "y": 220
    },
    {
      "x": 285,
      "y": 220
    },
    {
      "x": 285,
      "y": 221
    },
    {
      "x": 284,
      "y": 221
    },
    {
      "x": 282,
      "y": 221
    },
    {
      "x": 282,
      "y": 223
    },
    {
      "x": 281,
      "y": 223
    },
    {
      "x": 279,
      "y": 223
    },
    {
      "x": 278,
      "y": 223
    },
    {
      "x": 276,
      "y": 224
    },
    {
      "x": 275,
      "y": 224
    },
    {
      "x": 273,
      "y": 226
    },
    {
      "x": 272,
      "y": 226
    },
    {
      "x": 270,
      "y": 226
    },
    {
      "x": 269,
      "y": 226
    },
    {
      "x": 267,
      "y": 226
    },
    {
      "x": 266,
      "y": 226
    },
    {
      "x": 264,
      "y": 226
    },
    {
      "x": 263,
      "y": 226
    },
    {
      "x": 261,
      "y": 226
    },
    {
      "x": 260,
      "y": 226
    },
    {
      "x": 258,
      "y": 226
    },
    {
      "x": 257,
      "y": 226
    },
    {
      "x": 255,
      "y": 226
    },
    {
      "x": 254,
      "y": 226
    },
    {
      "x": 252,
      "y": 226
    },
    {
      "x": 251,
      "y": 226
    },
    {
      "x": 249,
      "y": 226
    },
    {
      "x": 248,
      "y": 226
    },
    {
      "x": 246,
      "y": 226
    },
    {
      "x": 245,
      "y": 226
    },
    {
      "x": 245,
      "y": 224
    },
    {
      "x": 245,
      "y": 223
    },
    {
      "x": 245,
      "y": 221
    },
    {
      "x": 245,
      "y": 220
    },
    {
      "x": 245,
      "y": 218
    },
    {
      "x": 245,
      "y": 217
    },
    {
      "x": 245,
      "y": 215
    },
    {
      "x": 245,
      "y": 214
    },
    {
      "x": 245,
      "y": 212
    },
    {
      "x": 245,
      "y": 211
    },
    {
      "x": 246,
      "y": 209
    },
    {
      "x": 246,
      "y": 208
    },
    {
      "x": 248,
      "y": 206
    },
    {
      "x": 249,
      "y": 206
    },
    {
      "x": 249,
      "y": 205
    },
    {
      "x": 251,
      "y": 205
    },
    {
      "x": 252,
      "y": 205
    },
    {
      "x": 254,
      "y": 205
    },
    {
      "x": 255,
      "y": 205
    },
    {
      "x": 258,
      "y": 205
    },
    {
      "x": 260,
      "y": 205
    },
    {
      "x": 261,
      "y": 205
    },
    {
      "x": 263,
      "y": 205
    },
    {
      "x": 264,
      "y": 205
    },
    {
      "x": 266,
      "y": 205
    },
    {
      "x": 267,
      "y": 206
    },
    {
      "x": 267,
      "y": 208
    },
    {
      "x": 267,
      "y": 209
    },
    {
      "x": 269,
      "y": 211
    },
    {
      "x": 269,
      "y": 212
    },
    {
      "x": 269,
      "y": 214
    },
    {
      "x": 269,
      "y": 217
    },
    {
      "x": 269,
      "y": 218
    },
    {
      "x": 269,
      "y": 220
    },
    {
      "x": 269,
      "y": 223
    },
    {
      "x": 269,
      "y": 226
    },
    {
      "x": 269,
      "y": 227
    },
    {
      "x": 269,
      "y": 229
    },
    {
      "x": 269,
      "y": 230
    },
    {
      "x": 269,
      "y": 233
    },
    {
      "x": 269,
      "y": 235
    },
    {
      "x": 269,
      "y": 238
    },
    {
      "x": 269,
      "y": 239
    },
    {
      "x": 267,
      "y": 241
    },
    {
      "x": 267,
      "y": 244
    },
    {
      "x": 267,
      "y": 248
    },
    {
      "x": 267,
      "y": 250
    },
    {
      "x": 267,
      "y": 253
    },
    {
      "x": 266,
      "y": 254
    },
    {
      "x": 266,
      "y": 256
    },
    {
      "x": 266,
      "y": 257
    },
    {
      "x": 266,
      "y": 259
    },
    {
      "x": 264,
      "y": 260
    },
    {
      "x": 263,
      "y": 260
    },
    {
      "x": 263,
      "y": 262
    }
  ],
  [
    {
      "x": 261,
      "y": 158
    },
    {
      "x": 261,
      "y": 157
    },
    {
      "x": 263,
      "y": 157
    },
    {
      "x": 266,
      "y": 157
    },
    {
      "x": 269,
      "y": 157
    },
    {
      "x": 270,
      "y": 157
    },
    {
      "x": 272,
      "y": 157
    },
    {
      "x": 272,
      "y": 158
    },
    {
      "x": 273,
      "y": 158
    },
    {
      "x": 273,
      "y": 160
    },
    {
      "x": 273,
      "y": 161
    },
    {
      "x": 272,
      "y": 161
    }
  ],
  [
    {
      "x": 300,
      "y": 248
    },
    {
      "x": 299,
      "y": 248
    },
    {
      "x": 299,
      "y": 247
    },
    {
      "x": 297,
      "y": 247
    },
    {
      "x": 297,
      "y": 245
    },
    {
      "x": 297,
      "y": 244
    },
    {
      "x": 296,
      "y": 244
    },
    {
      "x": 296,
      "y": 242
    },
    {
      "x": 296,
      "y": 241
    }
  ]
]];
            












            
            // Predefined strokes for testing purposes
            let savedStrokes = [];
         
            console.log("Default Saved Strokes:", JSON.stringify(savedStrokes, null, 2));

            ctx.lineWidth = 5;
            ctx.lineCap = "round";
       
class LetterDrawer {
  constructor(canvasId) {
    // Get the canvas and its context
    this.canvas = document.getElementById(canvasId);
    this.cx = this.canvas.getContext('2d');
  }

  drawLetter(letter) {
    // Set styles
    this.cx.strokeStyle = 'grey';
    this.cx.lineWidth = 2;

    // Get the path for the letter (This is just an example, you can replace with other letters' SVG path data)
    const svgPathData= "M160.402 255.3 160.695 295.387 152.296 295.485 152.296 255.3A169.008 169.008 0 0 1 150.863 255.319Q143.413 255.388 139.571 254.721A14.466 14.466 0 0 1 137.501 254.225 14.514 14.514 0 0 1 133.633 252.5Q129.65 249.898 129.133 244.838A14.28 14.28 0 0 1 129.103 244.508 25.972 25.972 0 0 1 129.009 242.846Q128.709 229.871 142.877 228.953A34.688 34.688 0 0 1 145.118 228.883Q151.124 228.883 155.372 231.984A12.157 12.157 0 0 1 160.093 239.23 16.688 16.688 0 0 1 160.402 240.895L160.402 246.999A56.454 56.454 0 0 0 164.928 246.833Q172.209 246.244 174.123 243.562A3.657 3.657 0 0 0 174.806 241.383Q174.806 236.567 164.78 231.845A57.316 57.316 0 0 0 164.503 231.716 199.537 199.537 0 0 1 161.641 230.422Q156.788 228.188 148.585 224.196A21.633 21.633 0 0 1 144.356 221.645 12.034 12.034 0 0 1 139.406 211.794 11.363 11.363 0 0 1 140.703 206.2Q143.296 201.527 151.066 200.506A36.58 36.58 0 0 1 155.812 200.221 26.591 26.591 0 0 1 162.712 201.098 24.245 24.245 0 0 1 164.601 201.686 17.177 17.177 0 0 1 167.804 203.224Q169.518 204.301 170.536 205.675A7.611 7.611 0 0 1 172.023 210.329Q172.023 211.403 170.607 212.526L162.404 212.526A7.666 7.666 0 0 0 162.799 212.008Q163.331 211.237 163.331 210.719 163.331 210.329 162.99 209.694A3.019 3.019 0 0 0 162.41 209.474Q160.771 208.998 155.812 208.522 154.591 208.425 153.615 208.425A13.796 13.796 0 0 0 151.64 208.553Q149.294 208.894 148.383 210.14A3.207 3.207 0 0 0 147.804 212.087 3.635 3.635 0 0 0 148.658 214.329Q150.288 216.431 155.031 218.385A1151.637 1151.637 0 0 1 159.205 220.134Q162.501 221.523 165.187 222.682A62.063 62.063 0 0 1 172.321 226.402Q183.497 233.278 183.497 241.823 183.497 254.299 162.814 255.231A74.661 74.661 0 0 1 160.402 255.3ZM315.04 255.3 315.333 295.387 306.935 295.485 306.935 255.3A169.008 169.008 0 0 1 305.502 255.319Q298.052 255.388 294.21 254.721A14.466 14.466 0 0 1 292.14 254.225 14.514 14.514 0 0 1 288.272 252.5Q284.289 249.898 283.771 244.838A14.28 14.28 0 0 1 283.741 244.508 25.972 25.972 0 0 1 283.648 242.846Q283.348 229.871 297.516 228.953A34.688 34.688 0 0 1 299.757 228.883Q305.763 228.883 310.011 231.984A12.157 12.157 0 0 1 314.732 239.23 16.688 16.688 0 0 1 315.04 240.895L315.04 246.999A56.454 56.454 0 0 0 319.566 246.833Q326.848 246.244 328.762 243.562A3.657 3.657 0 0 0 329.445 241.383Q329.445 236.567 319.419 231.845A57.316 57.316 0 0 0 319.142 231.716 199.537 199.537 0 0 1 316.279 230.422Q311.427 228.188 303.224 224.196A21.633 21.633 0 0 1 298.995 221.645 12.034 12.034 0 0 1 294.044 211.794 11.363 11.363 0 0 1 295.342 206.2Q297.934 201.527 305.705 200.506A36.58 36.58 0 0 1 310.45 200.221 26.591 26.591 0 0 1 317.351 201.098 24.245 24.245 0 0 1 319.24 201.686 17.177 17.177 0 0 1 322.443 203.224Q324.157 204.301 325.174 205.675A7.611 7.611 0 0 1 326.661 210.329Q326.661 211.403 325.245 212.526L317.042 212.526A7.666 7.666 0 0 0 317.437 212.008Q317.97 211.237 317.97 210.719 317.97 210.329 317.628 209.694A3.019 3.019 0 0 0 317.049 209.474Q315.41 208.998 310.45 208.522 309.23 208.425 308.253 208.425A13.796 13.796 0 0 0 306.279 208.553Q303.933 208.894 303.022 210.14A3.207 3.207 0 0 0 302.443 212.087 3.635 3.635 0 0 0 303.297 214.329Q304.927 216.431 309.669 218.385A1151.637 1151.637 0 0 1 313.844 220.134Q317.14 221.523 319.825 222.682A62.063 62.063 0 0 1 326.96 226.402Q338.136 233.278 338.136 241.823 338.136 254.299 317.453 255.231A74.661 74.661 0 0 1 315.04 255.3ZM338.063 280.904A10.621 10.621 0 0 0 342.14 281.667 13.339 13.339 0 0 0 342.28 281.666 10.31 10.31 0 0 0 349.684 278.664 9.978 9.978 0 0 0 352.02 275.171 10.874 10.874 0 0 0 352.736 271.169 13.073 13.073 0 0 0 352.734 270.959 10.05 10.05 0 0 0 349.684 263.674 10.231 10.231 0 0 0 346.272 261.421 11.075 11.075 0 0 0 342.14 260.671 13.16 13.16 0 0 0 341.406 260.691 9.833 9.833 0 0 0 334.669 263.674 10.004 10.004 0 0 0 332.383 267.284 11.334 11.334 0 0 0 331.74 271.169Q331.74 275.563 334.718 278.615A9.921 9.921 0 0 0 338.063 280.904ZM152.968 194.016A10.771 10.771 0 0 0 157.13 194.801Q161.525 194.801 164.625 191.847A9.886 9.886 0 0 0 166.876 188.705 10.214 10.214 0 0 0 167.726 184.499 13.073 13.073 0 0 0 167.724 184.289 10.05 10.05 0 0 0 164.674 177.004 10.231 10.231 0 0 0 161.262 174.751 11.075 11.075 0 0 0 157.13 174.001 13.125 13.125 0 0 0 156.712 174.007 9.927 9.927 0 0 0 149.684 177.004 9.993 9.993 0 0 0 147.379 180.615 11.249 11.249 0 0 0 146.73 184.499Q146.73 188.893 149.733 191.847A10.107 10.107 0 0 0 152.968 194.016ZM307.607 194.016A10.771 10.771 0 0 0 311.769 194.801Q316.163 194.801 319.264 191.847A9.886 9.886 0 0 0 321.515 188.705 10.214 10.214 0 0 0 322.365 184.499 13.073 13.073 0 0 0 322.363 184.289 10.05 10.05 0 0 0 319.313 177.004 10.231 10.231 0 0 0 315.901 174.751 11.075 11.075 0 0 0 311.769 174.001 13.125 13.125 0 0 0 311.351 174.007 9.927 9.927 0 0 0 304.323 177.004 9.993 9.993 0 0 0 302.018 180.615 11.249 11.249 0 0 0 301.368 184.499Q301.368 188.893 304.371 191.847A10.107 10.107 0 0 0 307.607 194.016ZM150.831 239.089Q148.927 237.331 145.021 237.331A9.798 9.798 0 0 0 142.337 237.683 7.924 7.924 0 0 0 139.699 238.991 5.92 5.92 0 0 0 138.363 240.299Q137.305 241.76 137.501 243.727A2.28 2.28 0 0 0 138.75 245.482Q141.805 247.352 152.296 246.999A56.011 56.011 0 0 0 152.185 244.712Q151.863 240.16 150.831 239.089ZM305.47 239.089Q303.566 237.331 299.659 237.331A9.798 9.798 0 0 0 296.976 237.683 7.924 7.924 0 0 0 294.337 238.991 5.92 5.92 0 0 0 293.001 240.299Q291.943 241.76 292.14 243.727A2.28 2.28 0 0 0 293.389 245.482Q296.444 247.352 306.935 246.999A56.011 56.011 0 0 0 306.824 244.712Q306.502 240.16 305.47 239.089ZM157.13 181.227A4.561 4.561 0 0 0 155.845 181.392Q154.422 181.811 154.044 183.29A4.893 4.893 0 0 0 153.908 184.499 4.944 4.944 0 0 0 154.062 185.792Q154.464 187.273 155.916 187.672A4.588 4.588 0 0 0 157.13 187.819 4.945 4.945 0 0 0 158.443 187.66Q160.499 187.093 160.499 184.499 160.499 181.89 158.356 181.361A5.135 5.135 0 0 0 157.13 181.227ZM311.769 181.227A4.561 4.561 0 0 0 310.484 181.392Q309.061 181.811 308.683 183.29A4.893 4.893 0 0 0 308.546 184.499 4.944 4.944 0 0 0 308.7 185.792Q309.103 187.273 310.555 187.672A4.588 4.588 0 0 0 311.769 187.819 4.945 4.945 0 0 0 313.082 187.66Q315.138 187.093 315.138 184.499 315.138 181.89 312.995 181.361A5.135 5.135 0 0 0 311.769 181.227ZM342.14 267.897A4.561 4.561 0 0 0 340.855 268.062Q339.432 268.481 339.054 269.96A4.893 4.893 0 0 0 338.917 271.169 4.944 4.944 0 0 0 339.071 272.462Q339.474 273.943 340.926 274.342A4.588 4.588 0 0 0 342.14 274.489 4.945 4.945 0 0 0 343.453 274.33Q345.509 273.763 345.509 271.169 345.509 268.56 343.366 268.031A5.135 5.135 0 0 0 342.14 267.897Z";






    



    
    const path = new Path2D(svgPathData);
        this.cx.fillStyle = 'white';
    this.cx.fill(path);

    // Stroke the path (outline the letter)
    this.cx.stroke(path);
  }
}
const letterDrawer = new LetterDrawer('canvas'); // Replace 'myCanvas' with the ID of your canvas
letterDrawer.drawLetter();
function startDrawing(x, y) {
                drawing = true;
                ctx.beginPath();
                ctx.moveTo(x, y);
                currentStroke = [{ x, y }];
            } function draw(x, y) {
                if (!drawing) return;
                ctx.lineTo(x, y);
                ctx.stroke();
                currentStroke.push({ x, y });
            }
            function stopDrawing() {
                if (!drawing) return;
                drawing = false;
                strokes.push(currentStroke);
            }
            canvas.addEventListener("mousedown", (e) => {
                ctx.lineWidth = 12;
                startDrawing(e.offsetX, e.offsetY);
            });

            canvas.addEventListener("mousemove", (e) => {
                draw(e.offsetX, e.offsetY);
            });

            canvas.addEventListener("mouseup", stopDrawing);
            canvas.addEventListener("mouseout", stopDrawing);

            // Touch Events
            canvas.addEventListener("touchstart", (e) => {
                ctx.lineWidth = 12;
                const rect = canvas.getBoundingClientRect();
                const touch = e.touches[0];
                startDrawing(touch.clientX - rect.left, touch.clientY - rect.top);
                e.preventDefault();
            });

            canvas.addEventListener("touchmove", (e) => {
                const rect = canvas.getBoundingClientRect();
                const touch = e.touches[0];
                draw(touch.clientX - rect.left, touch.clientY - rect.top);
                e.preventDefault();
            });

            canvas.addEventListener("touchend", stopDrawing);

           
            // Clear the canvas
            clearButton.addEventListener("click", () => {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                strokes = [];
                result.textContent = "";
                const letterDrawer = new LetterDrawer('canvas'); // Replace 'myCanvas' with the ID of your canvas
                letterDrawer.drawLetter();
                
            });
            // Check method against saved strokes
            checkMethodButton.addEventListener("click", () => {
    if (strokes.length === 0) {
        result.textContent = "No strokes to validate!";
        result.style.color = "red";
        drawValidationSymbol("X", "red");
        return;
    }

    if (savedStrokes.length === 0) {
        result.textContent = "No saved method to check!";
        result.style.color = "red";
        drawValidationSymbol("X", "red");
        return;
    }

    const isValid = compareMethods(savedStrokes, strokes);

    if (isValid) {
        
        drawValidationSymbol("✔", "green");
    } else {
        
        drawValidationSymbol("X", "red");
    }

    console.log("Current Strokes:", JSON.stringify(strokes, null, 2));
    console.log("Saved Strokes:", JSON.stringify(savedStrokes, null, 2));
});

// Function to draw a validation symbol on the canvas
function drawValidationSymbol(symbol, color) {
    const ctx = canvas.getContext("2d");

    // Clear the canvas for feedback drawing
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    // Draw strokes (if you want to keep previous strokes, remove this line)
    drawAllStrokes(strokes, ctx);

    // Draw the validation symbol
    ctx.font = "100px Arial";
    ctx.textAlign = "center";
    ctx.textBaseline = "middle";
    ctx.fillStyle = color;

    // Position the symbol in the center of the canvas
    const x = canvas.width / 2;
    const y = canvas.height / 2;
  ctx.fillText(symbol, x, y);
}
// Function to redraw all strokes (optional if strokes are persistent)
function drawAllStrokes(strokes, ctx) {
    ctx.lineWidth = 2;
    ctx.strokeStyle = "black";
    for (const stroke of strokes) {
        ctx.beginPath();
        for (let i = 0; i < stroke.length; i++) {
            const { x, y } = stroke[i];
            if (i === 0) {
                ctx.moveTo(x, y);
            } else {
                ctx.lineTo(x, y);
            }
        }
        ctx.stroke();
    }
} function calculateStrokeDirection(stroke) {
                const firstPoint = stroke[0];
                const lastPoint = stroke[stroke.length - 1];
                const deltaX = lastPoint.x - firstPoint.x;
                const deltaY = lastPoint.y - firstPoint.y;

                if (Math.abs(deltaX) > Math.abs(deltaY)) {
                    return deltaX > 0 ? "right" : "left";
                } else {
                    return deltaY > 0 ? "down" : "up";
                }
            }
            function compareMethods(saved, input, tolerance = 30, numPoints = 100) {
    if (!saved || saved.length !== input.length) {
        return false; // Different number of strokes
    }

    for (let i = 0; i < saved.length; i++) {
        const savedStroke = resampleStroke(saved[i], numPoints);
        const inputStroke = resampleStroke(input[i], numPoints);

        if (!compareSegmentDirections(savedStroke, inputStroke, tolerance)) {
            return false;
        }
    }

    return true; // All strokes matched
}

function compareSegmentDirections(stroke1, stroke2, tolerance) {
    const segmentSize = Math.max(5, Math.floor(stroke1.length / 10)); // Divide into segments
    let totalDifference = 0;

    for (let i = 0; i < stroke1.length - 1; i += segmentSize) {
        const dir1 = calculateDirection(stroke1[i], stroke1[Math.min(i + segmentSize, stroke1.length - 1)]);
        const dir2 = calculateDirection(stroke2[i], stroke2[Math.min(i + segmentSize, stroke2.length - 1)]);

        const angleDiff = getWrappedAngleDifference(dir1, dir2);
        totalDifference += angleDiff;
    }

    const averageDifference = totalDifference / (stroke1.length / segmentSize);
    return averageDifference <= tolerance;
}

function calculateDirection(point1, point2) {
    return Math.atan2(point2.y - point1.y, point2.x - point1.x) * (180 / Math.PI);
}

function getWrappedAngleDifference(angle1, angle2) {
    let diff = Math.abs(angle1 - angle2);
    return Math.min(diff, 360 - diff); // Wrap around 360 degrees
}

function resampleStroke(stroke, numPoints) {
    const resampled = [];
    const totalLength = getTotalLength(stroke);
    const segmentLength = totalLength / (numPoints - 1);

    let accumulatedDistance = 0;
    resampled.push(stroke[0]); // Start with the first point

    for (let i = 1, j = 0; i < stroke.length; i++) {
        const prev = stroke[i - 1];
        const curr = stroke[i];
        const distance = getDistance(prev, curr);

        while (accumulatedDistance + distance >= (j + 1) * segmentLength) {
            const ratio = ((j + 1) * segmentLength - accumulatedDistance) / distance;
            resampled.push({
                x: prev.x + (curr.x - prev.x) * ratio,
                y: prev.y + (curr.y - prev.y) * ratio,
            });
            j++;
        }

        accumulatedDistance += distance;
    }

    resampled.push(stroke[stroke.length - 1]); // End with the last point
    return resampled;
}

function getDistance(point1, point2) {
    return Math.sqrt((point2.x - point1.x) ** 2 + (point2.y - point1.y) ** 2);
}

function getTotalLength(stroke) {
    let length = 0;
    for (let i = 1; i < stroke.length; i++) {
        length += getDistance(stroke[i - 1], stroke[i]);
    }
    return length;
}

        });
    </script>
</body>
</html>
